<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // 此时candidates不重复.
      // 需要改变传入的candidates值
      var combinationSum2 = function(candidates, target) {
        candidates.sort((a, b) => a - b)
        var res = []

        function dfs(resides, candidates, path) {
          if (resides < 0) return
          if (resides === 0) res.push(path.slice())
          for (let i = 0, len = candidates.length; i < len; i++) {
            if (candidates[i] !== candidates[i - 1]) {
              if (resides - candidates[i] < 0) break
              path.push(candidates[i])
              dfs(resides - candidates[i], candidates.slice(i + 1), path)
              path.pop()
            }
          }
        }
        dfs(target, candidates, [])
        return res
      }
      console.log(combinationSum2([10, 1, 2, 7, 6, 1, 5], 8))
    </script>
  </body>
</html>
