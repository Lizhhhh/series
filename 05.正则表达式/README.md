- 能够说出正则表达式的作用
- 能够写出简单的正则表达式
- 能够使用正则表达式对表单进行验证
- 能够使用正则表达式替换内容

&nbsp;

- 正则表达式概述
- 正则表达式在JavaScript中的使用
- 正则表达式中的特殊字符
- 正则表达式中的替换


# 1.正则表达式

## 1.1 什么是正则表达式
<font color=red>正则表达式(Regular Expression)</font>是用于匹配字符串字符组合的模式。在JavaScript中,正则表达式也是对象.

正则表通常被用来检索、替换那些符合某个模式(规则)的文本,例如验证表单: 用户名表单只能输入英文字母、数字或者下划线,昵称输入框中可以输入中文(<font color=red>匹配</font>)。此外,正则表达式还常用于过滤掉页面内容中的一些敏感词(<font color=red>替换</font>),或从字符串中获取我们想要的特定部分(<font color=red>提取</font>)等.

## 1.2 正则表达式的特定
1. 灵活性、逻辑性和功能性非常的强
2. 可以迅速地用极简单地方式达到字符串地复杂控制.
3. 对于刚接触的人来说,比较晦涩难懂。比如: ^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$
4. 实际开发,一般都是直接复制写好的正则表达式.但是要求会使用正则表达式并且根据实际情况修改正则表达式.比如用户名:
/^[a-z0-9_-]{3,16}$/

## 2.1 创建正则表达式

在JavaScript中,可以通过两种方式创建一个表达式.

#### 1.通过调用RegExp对象的构造函数创建

## 2.2 测试正则表达式 test
test()正则对象方法,用于检测字符串是否符合该规则,该对象会返回true或flase,其参数是测试字符串.
`regexObj.test(str)`
1. regexObj是写的正则表达式
2. str我们要测试的文本
3. 就是检测str文本是否符合我们写的正则表达式规范.

# 3.正则表达式中的特殊字符
## 3.1 正则表达式的组成
一个正则表达式<font color=red>可以由简单的字符构成</font>,比如/abc/,<font color=red>也可以是简单和特殊字符的组合</font>,比如/ab*c/。其中特殊字符也被称为<font color=red>元字符</font>,在正则表达式中具有<font color=red>特殊</font>意义的专用<font color=red>符合</font>,如 ^ 、$ 、 + 等.

特殊字符非常多,可以参考:
- MDN: https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions
- jQuery手册: 正则表达式部分
- 正则测试工具: http://tool.oschiane.net/regex

## 3.2 边界符
正则表达式中的边界符(位置符)用来<font color=red>提示字符所处的位置</font>,主要有两个字符.

- `^`: 表示匹配行首的文本(以谁开始)
- `$`: 表示匹配行尾的文本(以谁结束)

如果`^`和`$`同时使用,则完成了精确匹配.

## 3.3 字符类
字符类表示有一系列字符可供选择,只要匹配了其中一个就可以了。<font color=red>所有可供选择的字符都放在方括号内</font>

2. [-]方括号内部范围符-
   [^]方括号中的`^`代表取反, 和边界符的`^`区别开.



## 3.4 量词符
量词符用来<font color=red>设定某个模式出现的次数</font>

- `*`: 重复0次或者更多次
- `+`: 重复一次或者更多次
- `?`: 重复零次或者一次
- `{n}`: 重复n次
- `{n,}`: 重复n次或者更多
- `{n,m}`: 重复n到m次

<font color=red>案例: 用户名验证</font>

功能需求:
1. 如果用户名输入合法,则后面提示信息为: 用户名合法,并且颜色为绿色
2. 如果用户名输入不合法,则后面提示信息为: 用户名不符合规范,并且颜色额外i红色.

分析:
1. 用户名只能为英文字母,数字,下划线或短横线组成,并且用户名长度为6~16位.
2. 首先准备好这种正则表达式模式 `/^[a-zA-Z0-9-_]{6,16}$/`
3. 当表单失去焦点开始验证
```js
var uname = document.querySelector('.uname');
uname.onblur = function () {

}
```
4. 如果符合正则规范,则让后面的span标签添加right类.
```js
// 首先得获取input里面得值
var uname = document.querySelector('input');
if(reg.test(uname.value))
```
5. 如果不符合规范,则让后面的span标签添加wrong类.
```js
var span = document.querySelector('span');
span.className = "right";
span.className = "wrong";
span.innerHTML = "输入合法";
span.innerHTML = "输入不合乎规范";
```

## 3.5 括号总结
1. 大括号 量词符, 里面表示重复次数
2. 中括号 字符集合. 匹配方括中得任意字符.
3. 小括号 表示优先级

[可以在线测试](https://c.runoob.com/)

## 3.6 与定义类
预定义类指的是<font color=red>某些常见模式的简写方式</font>

- `\d`: 匹配0~9之间任一数字,相当于`[0-9]`
- `\D`: 匹配除0-9以外的字符,相当于`[^0-9]`
- `\w`: 匹配任意的字母、数字和下划线,相当于`[A-Za-z0-9_]`
- `\W`: 除字母、数字和下划线以外的字符,相当于`[^A-Za-z0-9_]`
- `\s`: 匹配空格(包括换行符、制表符、空格符等), 相当于`[\t\r\n\v\f]`
- `\S`: 匹配非空格符,相当于`[^\t\r\n\v\f]`

# 4 正则表达式中的替换
## 4.1 replace 替换
replace()方法可以实现替换字符串操作,用来替换的参数可以是一个字符串或者是一个正则表达式.
`stringObject.replace(regexp/substr, replacement)`

1. 第一个参数: 被替换得字符串 或者 正则表达式
2. 第二个参数: 替换为的字符串
3. 返回值是一个替换完毕的新字符串

## 4.2 正则表达式参数
`/表达式/[switch]`
- g: 全局匹配
- i: 忽略大小写
- gi: 全局匹配 + 忽略大小写
